{% extends "templates/web.html" %}

{% set full_width = True %}
{% set no_breadcrumbs = True %}

{% block style %}
	{{ include_style("stripes_home.bundle.css") }}
{% endblock %}

{% block page_content %}
	<!--  Stripes -->
	<section class="stripes-section py-5">
		<div class="container-2xl">
			<div class="row">
				<div class="col-12">
					<div class="stripes-container">
						{{ stripes }}
					</div>
				</div>
			</div>

			<!-- Download & Share Button -->
			<div class="row mt-5">
				<div class="col-12">
					<div class="action-buttons text-right">
						<button class="btn btn-download mr-2">
							<img src="/assets/stripes/images/icons/download.svg" alt="download-button">
							<span>Download</span>
						</button>

						<button class="btn btn-share">
							<img src="/assets/stripes/images/icons/share.svg" alt="share-button">
							<span>Share</span>
						</button>
					</div>
				</div>
			</div>
		</div>
	</section>
{% endblock %}

<!-- Footer -->
{% block footer %}
	<footer>
		<p>Interested in studying weather and climate? <a href="#">Take a look at our courses at the University of Reading</a></p>
	</footer>
{% endblock %}

{% block script %}
	<script src="/assets/stripes/js/combobox.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.5.3/dist/fuse.min.js"></script>

	<!-- Combobox Initializing -->
	<script>
		$(document).ready(function() {
			$('#dropdownMenuButton').on('show.bs.dropdown', function () {
			  console.log('Dropdown is about to be shown!');
			});

			$('#dropdownMenuButton').on('shown.bs.dropdown', function () {
			  console.log('Dropdown has been fully shown!');
			});
		  });

		const sync_region_comboboxes = (value, from) => {
			if (country != from) {
				country.set_value(value);
			}
			if (region != from) {
				region.set_value(value);
			}
			if (city != from) {
				city.set_value(value);
			}
		};

		const country = new Combobox(".country", (value) => sync_region_comboboxes(value, country));
		const region = new Combobox(".region", (value) => sync_region_comboboxes(value, region));
		const city = new Combobox(".city", (value) => sync_region_comboboxes(value, city));

		const stripe = new Combobox(".stripe");
		const controll = new Combobox(".controll");
		const data = new Combobox(".data");
	</script>
{% endblock %}


